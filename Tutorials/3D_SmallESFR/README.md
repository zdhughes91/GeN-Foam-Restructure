# 3D Small ESFR

3D_SmallESFR is a slightly simplified 3-D model of the core of the European Sodium Fast Reactor (ESFR). It is a full multiphysics case, including thermal-hydraulics, neutronics and thermal-mechanics (with expansion of the meshes based on the displacement field calculated by the thermal-mechanics). The Allrun and Allrun_parallel bash scripts can be used to run the tutorial in one or 4 cores, respectively. In particular, the scripts will first run a steady-state case with eigenvalue neutronics, and then start from the obtained steady-state, and run a simple transient calculation. No reactivity is inserted in the transient and the power will simply stay constant for 10 seconds. Any modification to the initial conditions of the transient case will instead trigger an actual transient. For example, modifying the keff in the reactorState dictionary will trigger a reactivity-initiated transient. A more realistic transient can be initiated by modifying the CRmove dictionary.

This tutorial also include an example of Gmsh scripts for generating reactor geometries. The scripts can be found in the folder 3dESFRMesh. In particular, 4 folders are present, each including a gmsh script for: neutronics; thermal-mechanics; thermal-hydraulics; thermal-hydraulics with one separate boundary conditions for one of the assemblies, allowing to simulate the case of a blocked assembly. Meshes can be created by running the command line "gmsh esfr.main". This will open gmsh (that must be first installed on your computer) and, after quite a long time, show you a geometry. This geometry must be meshed and the resulting mesh saved as a .msh file. These .msh file can be converted to an OpenFOAM-readable format (the polymesh folder) using the gmshToFoam tool distributed with OpenFOAM. This should be done at the root of the case folder and it will create a polyMesh folder in the "constant" folder. Depending on the mesh that is being created, this folder must then be copied in the "constant" folder of the corresponding physics. Please notice that the mesh generation is not a necessary step for running the tutorials. The polyMesh folders are already present.
